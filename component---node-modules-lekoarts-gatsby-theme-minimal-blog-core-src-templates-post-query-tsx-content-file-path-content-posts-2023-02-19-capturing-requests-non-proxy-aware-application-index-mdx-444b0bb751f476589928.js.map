{"version":3,"file":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-2023-02-19-capturing-requests-non-proxy-aware-application-index-mdx-444b0bb751f476589928.js","mappings":"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","sources":["webpack://minimal-blog/./content/pages/about/LinkText.jsx","webpack://minimal-blog/./content/posts/2023-02-19-capturing-requests-non-proxy-aware-application/index.mdx","webpack://minimal-blog/./node_modules/@lekoarts/gatsby-theme-minimal-blog-core/src/templates/post-query.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport tailwind from \"@theme-ui/preset-tailwind\"\n\nconst LinkText = ({ text, url }) => {\n\n  const [isHovered, setIsHovered] = useState(false);\n\n  const handleMouseEnter = () => {\n    setIsHovered(true);\n  };\n\n  const handleMouseLeave = () => {\n    setIsHovered(false);\n  };\n\n  const textDecoration = isHovered ? 'underline' : 'none';\n\n  const [itemValue, setItemValue] = useState('');\n\n  useEffect(() => {\n    const handleStorageChange = (event) => {\n      const initialValue = localStorage.getItem('theme-ui-color-mode');\n      if (initialValue) {\n        console.log(initialValue)\n        setItemValue(initialValue);\n      }\n    };\n\n    // Add event listener to observe storage changes\n    window.addEventListener('click', handleStorageChange);\n\n    // Retrieve initial value from localStorage\n    const initialValue = localStorage.getItem('theme-ui-color-mode');\n    if (initialValue) {\n      setItemValue(initialValue);\n    }\n\n    return () => {\n      // Clean up the event listener on component unmount\n      window.removeEventListener('click', handleStorageChange);\n    };\n  }, []);\n\n  const style = {\n    color: itemValue === 'dark' ? tailwind.colors.purple[5] : tailwind.colors.purple[7],\n    textDecoration: textDecoration\n  };\n\n  return (\n    <a style={style} href={url} target=\"_blank\" rel=\"nofollow noopener noreferrer\" onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}>\n      {text}\n    </a>\n  );\n};\n\nexport default LinkText;\n","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nimport LinkText from '../../pages/about/LinkText';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    blockquote: \"blockquote\",\n    p: \"p\",\n    strong: \"strong\",\n    ol: \"ol\",\n    li: \"li\",\n    ul: \"ul\",\n    pre: \"pre\",\n    code: \"code\",\n    img: \"img\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"UPDATE\"), \" - This post has been updated to include a stable set of NAT rules for iptables.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Mobile applications are becoming increasingly popular, with many developers choosing to build them using frameworks such as Xamarin. However, there are times when these applications do not follow device proxy settings, making it difficult to capture the HTTP requests on Burp Suite or any other proxy tool.\"), \"\\n\", React.createElement(_components.p, null, \"In such cases, it is essential to find a solution that allows for the capture of this data. One effective solution is to create a custom OpenVPN. This process involves directing all traffic originating from the device to the VPN, which then routes it to the Burp Suite IP address. This method has been thoroughly tested and proven to be effective.\"), \"\\n\", React.createElement(_components.p, null, \"Detailed steps on setting up the environment:\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"Setting up a custom OpenVPN. Here, we will be leveraging Digital Ocean (DO) to host our VPN. We will also use droplets with Ubuntu 22.04 installed. Set up two droplets - one for hosting our OpenVPN and the other, a private Certificate Authority (CA). Recommended droplets:\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"For hosting OpenVPN - $10 droplet\"), \"\\n\", React.createElement(_components.li, null, \"For hosting a private CA - $5 droplet\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"Follow this documentation to setup OpenVPN on DO: \", React.createElement(LinkText, {\n    text: \"https://www.digitalocean.com/community/tutorials/how-to-set-up-and-configure-an-openvpn-server-on-ubuntu-22-04\",\n    url: \"https://www.digitalocean.com/community/tutorials/how-to-set-up-and-configure-an-openvpn-server-on-ubuntu-22-04\"\n  }), \" (\", React.createElement(_components.strong, null, \"Please be careful and complete all the steps. Otherwise, the VPN will not work.\"), \")\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"Create two clients for OpenVPN - one will be installed on a mobile device, and the other will be installed on the system where Burp is installed.\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"After setting up the OpenVPN, we will need to create NAT rules for routing the traffic onto the Burp Suite. Create the following rules (the port number should be of the Burp):\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"iptables -t nat -A PREROUTING -p tcp --dport 443 -s 10.8.0.6 -j DNAT --to-destination 10.8.0.10:8081\\niptables -t nat -A POSTROUTING -p tcp --dport 8081 -d 10.8.0.10 -j SNAT --to-source 10.8.0.10\\n\")), \"\\n\", React.createElement(_components.p, null, \"Here, 10.8.0.6 is the local IP on the mobile device and 10.8.0.10 is the local IP on which burp suite is installed.\"), \"\\n\", React.createElement(_components.ol, {\n    start: \"5\"\n  }, \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"The NAT policy should look like this below:\\n\", React.createElement(_components.img, {\n    src: \"https://ik.imagekit.io/dzhosd8qx/nat.png?updatedAt=1689658550089\",\n    alt: \"image\"\n  })), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"Enable invisible proxy on the Burp Suite:\\n\", React.createElement(_components.img, {\n    src: \"https://ik.imagekit.io/dzhosd8qx/burp.png?updatedAt=1689658550089\",\n    alt: \"image\"\n  })), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"Now connect to the VPN on the mobile device and the system. This connection should capture the HTTP requests and responses.\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Thank you for stopping by! If you have any questions, comments, or suggestions, please don't hesitate to reach out.\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import React from \"react\";\nimport GATSBY_COMPILED_MDX from \"/Users/bhavukjain1/Documents/personal/github/gatsby_personal_blog/content/posts/2023-02-19-capturing-requests-non-proxy-aware-application/index.mdx\";\nimport PostComponent, {Head} from \"../components/post\";\nPostComponent\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PostComponent, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport {Head};\nconst query = \"2040642971\";\n"],"names":["_ref","text","url","isHovered","setIsHovered","useState","textDecoration","itemValue","setItemValue","useEffect","handleStorageChange","event","initialValue","localStorage","getItem","console","log","window","addEventListener","removeEventListener","style","color","tailwind","purple","React","href","target","rel","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","_createMdxContent","props","_components","Object","assign","blockquote","p","strong","ol","li","ul","pre","code","img","_provideComponents","components","LinkText","className","start","src","alt","wrapper","MDXLayout","GatsbyMDXWrapper","PostComponent","GATSBY_COMPILED_MDX"],"sourceRoot":""}